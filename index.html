<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>WC Mobile Test</title>
  <script src="https://unpkg.com/@walletconnect/web3modal@2.5.2/dist/web3modal.umd.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/ethers@6.6.2/dist/ethers.umd.min.js"></script>
</head>
<body>
  <button id="wc-btn">Connect Mobile Wallet</button>
  <div id="wc-addr"></div>

  <script>
    const projectId = "847bc5b9b1e3b0dfd4a102b191bb0f7d"; // your project ID
    const web3Modal = new window.Web3Modal({
      projectId,
      walletConnectVersion: 2,
      themeMode: "light",
      chains: [56],
    });
    document.getElementById("wc-btn").onclick = async () => {
      try {
        document.getElementById("wc-btn").innerText = "Waiting for mobile walletâ€¦";
        const session = await web3Modal.connect();
        const provider = new ethers.BrowserProvider(session);
        const signer = await provider.getSigner();
        const addr = await signer.getAddress();
        document.getElementById("wc-addr").innerText = addr;
        document.getElementById("wc-btn").innerText = "Connected";
      } catch (err) {
        console.error(err);
        alert("Failed: " + err.message);
        document.getElementById("wc-btn").innerText = "Connect Mobile Wallet";
      }
    };
  </script>
</body>
</html>
