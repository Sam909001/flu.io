<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>$FLUFFI Referral Program</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
  <style>
    body {
      background: linear-gradient(to bottom, #fff0f5, #fff9e6);
    }
    .dark {
      background: #111827;
      color: white;
    }
    .referral-step {
      border-left: 4px solid #3B82F6;
    }
    .leaderboard-row:nth-child(odd) {
      background-color: rgba(243, 244, 246, 0.5);
    }
    .dark .leaderboard-row:nth-child(odd) {
      background-color: rgba(31, 41, 55, 0.5);
    }
  </style>
</head>
<body class="text-gray-800 dark:text-white">
  <div class="container mx-auto px-4 py-12 max-w-6xl">
    <!-- Header -->
    <header class="text-center mb-12">
      <h1 class="text-4xl font-bold mb-4">$FLUFFI Referral Program</h1>
      <p class="text-xl text-gray-600 dark:text-gray-300">Earn rewards by spreading the word about FLUFFI</p>
    </header>

   <!-- Referral Section -->
<section id="referral" class="bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6">
  <h2 class="text-2xl font-bold mb-4">Earn with Referrals</h2>
  <div id="referralSection">
    <p class="mb-4">Connect your wallet to access your referral link</p>
    <button onclick="connectWallet()" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded">
      Connect Wallet
    </button>
  </div>
</section>

<!-- Related JavaScript Functions -->
<script>
  async function connectWallet() {
    if (window.ethereum) {
      try {
        connectBtn.disabled = true;
        connectBtn.textContent = "Connecting...";
        
        const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
        userWallet = accounts[0];
        
        connectBtn.textContent = `${userWallet.slice(0, 6)}...${userWallet.slice(-4)}`;
        
        // Show referral UI
        referralSection.innerHTML = `
          <div class="space-y-4">
            <div>
              <label class="block mb-2">Your referral link:</label>
              <div class="flex">
                <input type="text" id="userReferralLink" 
                       value="${window.location.origin}?ref=${userWallet}" 
                       class="flex-1 p-2 border rounded-l" readonly>
                <button onclick="copyReferralLink()" 
                        class="bg-blue-500 hover:bg-blue-600 text-white px-4 rounded-r">
                  Copy
                </button>
              </div>
            </div>
            <div class="bg-gray-100 dark:bg-gray-700 p-3 rounded">
              <p>Total referrals: <span id="referralCount">0</span></p>
              <p>Earnings: <span id="referralEarnings">0 FLUFFI</span></p>
            </div>
          </div>
        `;
        
      } catch (error) {
        console.error("Connection error:", error);
        alert("Wallet connection failed");
        connectBtn.disabled = false;
        connectBtn.textContent = "Connect Wallet";
      }
    } else {
      alert("Please install MetaMask or another Ethereum wallet");
    }
  }

  function copyReferralLink() {
    const linkInput = document.getElementById('userReferralLink');
    linkInput.select();
    document.execCommand('copy');
    alert("Copied to clipboard!");
  }
</script>
    <!-- Leaderboard Section -->
    <section class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-8">
      <h2 class="text-2xl font-bold mb-6">Top Referrals</h2>
      <div class="overflow-x-auto">
        <table class="w-full">
          <thead>
            <tr class="border-b border-gray-200 dark:border-gray-700">
              <th class="text-left py-3 px-4">Rank</th>
              <th class="text-left py-3 px-4">Wallet</th>
              <th class="text-left py-3 px-4">Referred Total</th>
              <th class="text-left py-3 px-4">Referrals</th>
            </tr>
          </thead>
          <tbody>
            <!-- Sample data - in real app this would be dynamic -->
            <tr class="leaderboard-row border-b border-gray-200 dark:border-gray-700">
              <td class="py-3 px-4">1</td>
              <td class="py-3 px-4">0x7f...3a4b</td>
              <td class="py-3 px-4">$12,450</td>
              <td class="py-3 px-4">248</td>
            </tr>
            <tr class="leaderboard-row border-b border-gray-200 dark:border-gray-700">
              <td class="py-3 px-4">2</td>
              <td class="py-3 px-4">0x5d...9c2e</td>
              <td class="py-3 px-4">$9,870</td>
              <td class="py-3 px-4">197</td>
            </tr>
            <!-- Add more rows up to 25 -->
          </tbody>
        </table>
      </div>
    </section>

    <!-- Community Callout -->
    <section class="bg-gradient-to-r from-pink-100 to-amber-100 dark:from-pink-900 dark:to-amber-900 rounded-xl shadow-lg p-6 mb-8 text-center">
      <p class="text-lg font-medium">
        Have a buzzing crypto community? Let's connect! Earn cashback on every purchase made by your members. 
        If your group has 10,000+ members, get in touch, and let's build something big together!
      </p>
    </section>

    <!-- How It Works Section -->
    <section class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6">
      <h2 class="text-2xl font-bold mb-6 text-center">Earn with referrals</h2>
      
      <div class="space-y-8 max-w-3xl mx-auto">
        <!-- Step 1 -->
        <div class="referral-step pl-6">
          <div class="flex items-start">
            <div class="bg-blue-500 text-white font-bold rounded-full w-10 h-10 flex items-center justify-center mr-4 flex-shrink-0">1</div>
            <div>
              <h3 class="text-xl font-semibold mb-2">Connect Your Wallet</h3>
              <p class="mb-4">Visit the buy page and connect your wallet. Once connected, you will receive a unique referral code.</p>
            </div>
          </div>
          <div class="text-center text-3xl my-2">‚Üì</div>
        </div>

        <!-- Step 2 -->
        <div class="referral-step pl-6">
          <div class="flex items-start">
            <div class="bg-blue-500 text-white font-bold rounded-full w-10 h-10 flex items-center justify-center mr-4 flex-shrink-0">2</div>
            <div>
              <h3 class="text-xl font-semibold mb-2">Share Your Referral Code</h3>
              <p class="mb-4">Share your unique referral code with your friends, family, or community members.</p>
            </div>
          </div>
          <div class="text-center text-3xl my-2">‚Üì</div>
        </div>

        <!-- Step 3 -->
        <div class="referral-step pl-6">
          <div class="flex items-start">
            <div class="bg-blue-500 text-white font-bold rounded-full w-10 h-10 flex items-center justify-center mr-4 flex-shrink-0">3</div>
            <div>
              <h3 class="text-xl font-semibold mb-2">Referral Benefits</h3>
              <p class="mb-2"><strong>For Your Referrals:</strong> Anyone who uses your referral code to make a purchase of $50 or more, will receive an extra 10% $FLUFFI on top of their purchase.</p>
              <p><strong>For You:</strong> You will receive 10% of the amount of $FLUFFI coins purchased whenever your referral code is used, if you make it in the top 20 on the leaderboard.</p>
            </div>
          </div>
          <div class="text-center text-3xl my-2">‚Üì</div>
        </div>

        <!-- Step 4 -->
        <div class="referral-step pl-6">
          <div class="flex items-start">
            <div class="bg-blue-500 text-white font-bold rounded-full w-10 h-10 flex items-center justify-center mr-4 flex-shrink-0">4</div>
            <div>
              <h3 class="text-xl font-semibold mb-2">Track Your Earnings</h3>
              <p>Keep track of your referral rewards through your wallet. Watch your $FLUFFI grow as more people use your code!</p>
            </div>
          </div>
        </div>
      </div>

      <div class="mt-8 text-center">
        <p class="text-lg">
          By participating in our referral program, you can help spread the word about $FLUFFI and earn extra rewards along the way. 
          Join us in making $FLUFFI a success!
        </p>
      </div>
    </section>
  </div>

  <script>
    // Simple wallet connection for demo purposes
    document.getElementById('connectWalletBtn').addEventListener('click', function() {
      alert('Wallet connection would be implemented here with Web3');
    });
    
    // Dark mode toggle
    const darkModeToggle = document.createElement('button');
    darkModeToggle.className = 'fixed bottom-4 right-4 bg-gray-200 dark:bg-gray-700 p-3 rounded-full shadow-lg';
    darkModeToggle.innerHTML = 'üåô';
    darkModeToggle.onclick = function() {
      document.documentElement.classList.toggle('dark');
      localStorage.setItem('darkMode', document.documentElement.classList.contains('dark'));
      this.innerHTML = document.documentElement.classList.contains('dark') ? '‚òÄÔ∏è' : 'üåô';
    };
    document.body.appendChild(darkModeToggle);
    
    // Check for saved dark mode preference
    if (localStorage.getItem('darkMode') === 'true') {
      document.documentElement.classList.add('dark');
      darkModeToggle.innerHTML = '‚òÄÔ∏è';
    }
  </script>
</body>
</html>
